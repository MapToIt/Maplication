<div class='container'>
  <div class='row spacing'></div>
  <div class='row content'>
    <div class='col-8'>
      <div #drawing id='drawing'></div>
      <div *ngIf='mapPopulated && !mapInfo.image'>
        <input type='file' accept='image/*' name='mapFile' (change)='DetectFiles($event)'>
        <button type="button" (click)="SubmitMap()">Add Event</button>
      </div>
    </div>
    <div class='eventInfo' *ngIf='mapPopulated' class='col-4'>
      <div class='row' *ngIf='!isEventCoordinator'>
        <h3>{{mapInfo.event.eventTitle}}</h3>
        <h5>{{mapInfo.event.description}}</h5>
        <h5>Start Time: {{mapInfo.event.startTime.toLocaleDateString()}} {{mapInfo.event.startTime.toLocaleTimeString()}}</h5>
        <h5>End Time: {{mapInfo.event.endTime.toLocaleDateString()}} {{mapInfo.event.endTime.toLocaleTimeString()}}</h5>
        <h5>Coordinator: {{mapInfo.event.coordinator.firstName}} {{mapInfo.event.coordinator.lastName}}</h5>
        <h5>Location: {{mapInfo.event.streetNumber}} {{mapInfo.event.street}} {{mapInfo.event.city}} {{mapInfo.event.state.stateName}} {{mapInfo.event.zipCode}}</h5>
      </div>
      <div class='row' *ngIf='isEventCoordinator'>
        <div class="input-group m-4">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">Event Title</span>
            </div>
            <input type="text" class="form-control" [(ngModel)]="mapInfo.event.eventTitle" aria-label="EventTitle" aria-describedby="basic-addon1">
        </div>
        <div class="input-group m-4">
            <div class="input-group-prepend">
                <span class="input-group-text" id="basic-addon1">Event Description</span>
            </div>
            <textarea class="form-control" [(ngModel)]="mapInfo.event.description" aria-label="EventDescription" aria-describedby="basic-addon1"></textarea>
        </div>
        <div class='input-group m-4'>
          <div class='input-group-prepend'>
            <span class='input-group-text' id='basic-addon1'>#</span>
          </div>
          <input type="number" class="row form-control" [(ngModel)]="mapInfo.event.streetNumber" aria-label="Street Number" aria-describedby="basic-addon1">
        </div>
        <div class='input-group m-4'>
          <div class='input-group-prepend'>
              <span class='input-group-text' id='basic-addon1'>Street Name</span>
          </div>
          <input type="text" class="row form-control" [(ngModel)]="mapInfo.event.street" aria-label="Street Name" aria-describedby="basic-addon1">
        </div>
        <div class='input-group m-4'>
          <div class='input-group-prepend'>
              <span class='input-group-text' id='basic-addon1'>City</span>
          </div>
          <input type="text" class="row form-control" [(ngModel)]="mapInfo.event.city" aria-label="City" aria-describedby="basic-addon1">
          <div class='input-group-prepend'>
              <span class='input-group-text' id='basic-addon1'>State</span>
          </div>
            <select [(ngModel)]='mapInfo.event.state.stateId' value='{{mapInfo.event.state.stateId}}' name='event-state' aria-lavel='State' aria-describedby='basic-addon1'>
              <option *ngFor='let state of states' value={{state.stateId}} type='number'>
                {{state.stateName}}
              </option>
            </select>
        </div>
        <div class='input-group m-4'>
          <div class='input-group-prepend'>
            <span class='input-group-text' id='basic-addon1'>Zip Code</span>
          </div>
          <input type="number" class="row form-control" [(ngModel)]="mapInfo.event.zipCode" aria-label="Zip Code" aria-describedby="basic-addon1">
        </div>
        <button class=' btn btn-success' (click)='SubmitMapChanges()'>Submit Changes</button>
      </div>
      <div class='row' id='companyInfo' *ngIf='activeCompany'>
        <h3>Company Info:</h3>
        <h5>Name: <a href='/company-profile/{{activeCompany.companyId}}'>{{activeCompany.companyName}}</a></h5>
        <h5>Phone: {{activeCompany.phoneNumber}}</h5>
        <h5>Location: {{activeCompany.streetNumber}} {{activeCompany.street}} {{activeCompany.city}} {{activeCompany.state.stateName}} {{activeCompany.zipCode}}</h5>
        <h5>Website: {{activeCompany.url}}</h5>
      </div>
    </div>
  </div>
  <div *ngIf='isEventCoordinator' class='row'>
    <button [ngClass]="buttonClass" (click)="toggleEdit()">Add tables</button>
    <button class='btn btn-danger' (click)="toggleDelete()">Delete Tables</button>
  </div>
</div>
